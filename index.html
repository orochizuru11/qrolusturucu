<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <title>Excel Benzeri Durak Tablosu</title>
  <style>
    body { font-family: sans-serif; padding: 20px; text-align: center; }
    table { border-collapse: collapse; margin: auto; margin-top: 20px; }
    th, td {
      border: 1px solid #ccc;
      padding: 8px;
      min-width: 150px;
    }
    td {
      outline: none;
    }
    td[contenteditable="true"]:empty:before {
      content: attr(data-placeholder);
      color: #aaa;
    }
  </style>
</head>
<body>
  <h2>Durak Bilgileri (Excel Gibi)</h2>
  <p>📝 Excel'den kopyala → buraya yapıştır, ya da elle gir</p>

  <table id="durakTablosu">
    <thead>
      <tr>
        <th>Durak ID</th>
        <th>Durak Adı</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td contenteditable="true" data-placeholder="Durak ID"></td>
        <td contenteditable="true" data-placeholder="Durak Adı"></td>
      </tr>
    </tbody>
  </table>

  <script>
    const tablo = document.getElementById("durakTablosu").getElementsByTagName("tbody")[0];

    // Satır yazıldıkça yeni satır ekleme
    tablo.addEventListener("input", function () {
      const satirlar = tablo.querySelectorAll("tr");
      const sonSatir = satirlar[satirlar.length - 1];
      const td1 = sonSatir.cells[0].textContent.trim();
      const td2 = sonSatir.cells[1].textContent.trim();

      if (td1 !== "" || td2 !== "") {
        const yeniSatir = document.createElement("tr");

        const tdID = document.createElement("td");
        tdID.contentEditable = "true";
        tdID.setAttribute("data-placeholder", "Durak ID");

        const tdAdi = document.createElement("td");
        tdAdi.contentEditable = "true";
        tdAdi.setAttribute("data-placeholder", "Durak Adı");

        yeniSatir.appendChild(tdID);
        yeniSatir.appendChild(tdAdi);
        tablo.appendChild(yeniSatir);
      }
    });

    // Kopyala/Yapıştır desteği
    tablo.addEventListener("paste", function (e) {
      e.preventDefault();

      const clipboardData = e.clipboardData || window.clipboardData;
      const pastedText = clipboardData.getData("text");

      const rows = pastedText.split("\n").filter(row => row.trim() !== "");
      const parsed = rows.map(row => row.split("\t"));

      parsed.forEach(cells => {
        if (cells.length === 0) return;

        const tr = document.createElement("tr");

        const tdID = document.createElement("td");
        tdID.contentEditable = "true";
        tdID.setAttribute("data-placeholder", "Durak ID");
        tdID.textContent = cells[0] || "";

        const tdAdi = document.createElement("td");
        tdAdi.contentEditable = "true";
        tdAdi.setAttribute("data-placeholder", "Durak Adı");
        tdAdi.textContent = cells[1] || "";

        tr.appendChild(tdID);
        tr.appendChild(tdAdi);
        tablo.appendChild(tr);
      });

      // Boş satır ekle
      const yeniSatir = document.createElement("tr");
      const yeniTd1 = document.createElement("td");
      yeniTd1.contentEditable = "true";
      yeniTd1.setAttribute("data-placeholder", "Durak ID");
      const yeniTd2 = document.createElement("td");
      yeniTd2.contentEditable = "true";
      yeniTd2.setAttribute("data-placeholder", "Durak Adı");
      yeniSatir.appendChild(yeniTd1);
      yeniSatir.appendChild(yeniTd2);
      tablo.appendChild(yeniSatir);
    });
  </script>
</body>
</html>
